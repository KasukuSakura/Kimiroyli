dependencies {
    compileOnly project(':kimiroyli-api')
    implementation 'org.junit.jupiter:junit-jupiter-api:5.8.2'
}

tasks.register('launchTest', JavaExec.class) { exec ->
    exec.classpath = project.sourceSets.main.runtimeClasspath
    exec.dependsOn ':bootloader-javaagent:jar'
    //noinspection GroovyAssignabilityCheck
    exec.jvmArgs('-javaagent:' + project(':bootloader-javaagent').tasks.jar.outputs.files.singleFile.absolutePath)
    exec.main 'com.kasukusakura.kimiroyli.test.Testing'
}
